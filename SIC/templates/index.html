{% extends 'layout/base.html' %}

{% block title %}Trang chủ{% endblock %}
<style>
    .carousel-item {
        height: 400px;
    }

    img {
        width: 100vh;
        height: auto;
    }

    #demo {
        height: 50vh;
    }
</style>

{% block content %}
<!--<div class="content">-->
<!--    <div class="img">-->
<!--        <img src="https://res.cloudinary.com/dwvkjyixu/image/upload/v1715020689/clinical-excelence-landing-page-template_23-2148940470_jyunnp.avif"-->
<!--             alt="Background Image" style="width: 100%; height: 100%; object-fit: cover;">-->
<!--        &lt;!&ndash; Add other content here if needed &ndash;&gt;-->
<!--    </div>-->
<!--</div>-->
<!-- Carousel -->
<style>
    .carousel-item {
        height: 500px;
    }


</style>
<div id="demo" class="carousel slide" data-bs-ride="carousel">

    <!-- Indicators/dots -->
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
    </div>

    <!-- The slideshow/carousel -->
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="static/img/cover.png" alt="Los Angeles" class="d-block w-100">
            <div class="carousel-caption">
                <h3>Công nghệ hiện đại</h3>
                <p>Dữ liệu được đánh giá và thống kê chi tiết hiển thị trực quan tiếp cận</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="static/img/cover2.jpg" alt="Chicago" class="d-block w-100">
            <div class="carousel-caption">
                <h3>Uy tín  và trách nhiệm</h3>
                <p>Luôn đáp ứng nhu cầu khách hàng đồng thời đưa ra các biện pháp tối ưu</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="static/img/cover4.jpg" alt="New York" class="d-block w-100">
            <div class="carousel-caption">
                <h3>Tận tâm</h3>
                <p>Chúng tôi luôn nỗ lực vì hành trình phát triển của doanh nghiệp</p>
            </div>
        </div>
    </div>

    <!-- Left and right controls/icons -->
    <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>

{% if current_user.is_authenticated %}
<h1 class="text-center my-5 sha">Xin chào bạn, {{current_user.name}} !</h1>
{% endif %}

<div class="container rounded shadow p-5" style="background-color: white">
    <div class="row rounded">
        <div class="service col-sm-4" style="background-color: blue">

        </div>
    </div>


    <!-- ======= WHy us Section ======= -->
        <section id="why-us" class="why-us my-5">
            <div class="container">

                <div class="row">
                    <div class="col-lg-4 d-flex align-items-stretch">
                        <div class="content">
                            <h3>Tại sao lại chọn chúng tôi?</h3>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut
                                labore et dolore magna aliqua. Duis aute irure dolor in reprehenderit
                                Asperiores dolores sed et. Tenetur quia eos. Autem tempore quibusdam vel necessitatibus
                                optio ad corporis.
                            </p>
                            <div class="text-center">
                                <a href="#" class="more-btn">Learn More <i class="bx bx-chevron-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8 d-flex align-items-stretch">
                        <div class="icon-boxes d-flex flex-column justify-content-center">
                            <div class="row">
                                <div class="col-xl-4 d-flex align-items-stretch">
                                    <div class="icon-box mt-4 mt-xl-0">
                                        <i class="bx bx-receipt"></i>
                                        <h4>Gói dịch vụ cơ bản</h4>
                                        <p>Consequuntur sunt aut quasi enim aliquam quae harum pariatur laboris nisi ut
                                            aliquip</p>
                                    </div>
                                </div>
                                <div class="col-xl-4 d-flex align-items-stretch">
                                    <div class="icon-box mt-4 mt-xl-0">
                                        <i class="bx bx-cube-alt"></i>
                                        <h4>Gói dịch vụ nâng cao</h4>
                                        <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                                            deserunt</p>
                                    </div>
                                </div>
                                <div class="col-xl-4 d-flex align-items-stretch">
                                    <div class="icon-box mt-4 mt-xl-0">
                                        <i class="bx bx-images"></i>
                                        <h4>Phân tích chuyên sâu</h4>
                                        <p>Aut suscipit aut cum nemo deleniti aut omnis. Doloribus ut maiores omnis
                                            facere</p>
                                    </div>
                                </div>
                            </div>
                        </div><!-- End .content-->
                    </div>
                </div>

            </div>
        </section><!-- End Why Us Section -->
  <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-lg">
                    <div class="card-body p-5">
                        <h2 class="text-center mb-4">Dự Đoán Khách Hàng</h2>
                        <form id="predictionForm">
                            <!-- Đặc điểm tín dụng -->
                            <div class="mb-3">
                                <label for="credit_score" class="form-label">Điểm tín dụng</label>
                                <input type="number" class="form-control" id="credit_score" name="credit_score" min="0" step="1" required>
                            </div>
                            <!-- Đặc điểm địa lý -->
                            <div class="mb-3">
                                <label for="geography" class="form-label">Khu vực</label>
                                <select class="form-select" id="geography" name="geography" required>
                                    <option value="France">Pháp</option>
                                    <option value="Germany">Đức</option>
                                    <option value="Spain">Tây Ban Nha</option>
                                </select>
                            </div>
                            <!-- Đặc điểm giới tính -->
                            <div class="mb-3">
                                <label for="gender" class="form-label">Giới tính</label>
                                <select class="form-select" id="gender" name="gender" required>
                                    <option value="Female">Nữ</option>
                                    <option value="Male">Nam</option>
                                </select>
                            </div>
                            <!-- Đặc điểm tuổi -->
                            <div class="mb-3">
                                <label for="age" class="form-label">Tuổi</label>
                                <input type="number" class="form-control" id="age" name="age" min="0" step="1" required>
                            </div>
                            <!-- Đặc điểm thời gian sử dụng -->
                            <div class="mb-3">
                                <label for="tenure" class="form-label">Thời gian sử dụng (tháng)</label>
                                <input type="number" class="form-control" id="tenure" name="tenure" min="0" step="1" required>
                            </div>
                            <!-- Đặc điểm số dư -->
                            <div class="mb-3">
                                <label for="balance" class="form-label">Số dư</label>
                                <input type="number" class="form-control" id="balance" name="balance" min="0" step="0.01" required>
                            </div>
                            <!-- Đặc điểm số sản phẩm -->
                            <div class="mb-3">
                                <label for="num_of_products" class="form-label">Số sản phẩm</label>
                                <input type="number" class="form-control" id="num_of_products" name="num_of_products" min="1" step="1" required>
                            </div>
                            <!-- Đặc điểm thẻ tín dụng -->
                            <div class="mb-3">
                                <label for="has_cr_card" class="form-label">Có thẻ tín dụng?</label>
                                <select class="form-select" id="has_cr_card" name="has_cr_card" required>
                                    <option value="1">Có</option>
                                    <option value="0">Không</option>
                                </select>
                            </div>
                            <!-- Đặc điểm thành viên hoạt động -->
                            <div class="mb-3">
                                <label for="is_active_member" class="form-label">Là thành viên hoạt động?</label>
                                <select class="form-select" id="is_active_member" name="is_active_member" required>
                                    <option value="1">Có</option>
                                    <option value="0">Không</option>
                                </select>
                            </div>
                            <!-- Đặc điểm lương ước lượng -->
                            <div class="mb-3">
                                <label for="estimated_salary" class="form-label">Lương ước lượng</label>
                                <input type="number" class="form-control" id="estimated_salary" name="estimated_salary" min="0" step="0.01" required>
                            </div>
                            <!-- Nút dự đoán -->
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-lg">Dự Đoán</button>
                            </div>
                        </form>
                        <div id="predictionResult" class="mt-4 text-center">
                            <h4>Kết quả dự đoán:</h4>
                            <p id="predictionLabel"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<script>
    document.getElementById('predictionForm').addEventListener('submit', function (event) {
        event.preventDefault();  // Ngăn không cho form gửi theo cách mặc định

        // Tạo FormData từ form
        var formData = new FormData(this);
        var jsonData = {};

        // Chuyển đổi FormData thành JSON
        formData.forEach(function (value, key) {
            jsonData[key] = value;
        });

        // Gửi dữ liệu đến API
        fetch('/predict', {
            method: 'POST',
            body: JSON.stringify(jsonData),
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        })
        .then(response => response.json())  // Chuyển đổi phản hồi thành JSON
        .then(data => {
            // Hiển thị kết quả dự đoán
            document.getElementById('predictionLabel').innerText = data.prediction;
            document.getElementById('predictionResult').style.display = 'block';
        })
        .catch(error => console.error('Error:', error));  // Xử lý lỗi nếu có
    });
</script>
        <!-- ======= About Section ======= -->
        <section id="about" class="mt-5 about">
            <div class="container-fluid">

                <div class="row">
                    <div class="col-xl-5 col-lg-6 video-box d-flex justify-content-center align-items-stretch position-relative">
                        <a href="https://www.youtube.com/" class="glightbox play-btn mb-4"></a>
                    </div>

                    <div class="col-xl-7 col-lg-6 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
                        <h3>Enim quis est voluptatibus aliquid consequatur fugiat</h3>
                        <p>Esse voluptas cumque vel exercitationem. Reiciendis est hic accusamus. Non ipsam et sed
                            minima
                            temporibus laudantium. Soluta voluptate sed facere corporis dolores excepturi. Libero
                            laboriosam
                            sint et id nulla tenetur. Suscipit aut voluptate.</p>

                        <div class="icon-box">
                            <div class="icon"><i class="bx bx-fingerprint"></i></div>
                            <h4 class="title"><a href="">Lorem Ipsum</a></h4>
                            <p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestias
                                excepturi sint occaecati cupiditate non provident</p>
                        </div>

                        <div class="icon-box">
                            <div class="icon"><i class="bx bx-gift"></i></div>
                            <h4 class="title"><a href="">Nemo Enim</a></h4>
                            <p class="description">At vero eos et accusamus et iusto odio dignissimos ducimus qui
                                blanditiis
                                praesentium voluptatum deleniti atque</p>
                        </div>

                        <div class="icon-box">
                            <div class="icon"><i class="bx bx-atom"></i></div>
                            <h4 class="title"><a href="">Dine Pad</a></h4>
                            <p class="description">Explicabo est voluptatum asperiores consequatur magnam. Et veritatis
                                odit. Sunt aut deserunt minus aut eligendi omnis</p>
                        </div>

                    </div>
                </div>

            </div>
        </section><!-- End About Section -->
        <div>
            <iframe class="my-5" style="border:0; width: 100%; height: 350px;"
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.6001386532053!2d106.6861334!3d10.6878708!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f2ed9cf6b1f%3A0x973196ffcc1d747c!2sCity%20Open%20University.%20Ho%20Chi%20Minh%20%28campus%203%29!5e0!3m2!1sen!2suk!4v1641204397348!5m2!1sen!2suk"
                    frameborder="0" allowfullscreen>
            </iframe>
        </div>
</div>
{% endblock %}
